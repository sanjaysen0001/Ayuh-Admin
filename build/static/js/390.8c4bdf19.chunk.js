(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[390],{2045:function(e,t,a){"use strict";a.r(t);var n=a(51),l=a(13),c=a(14),r=a(16),s=a(15),o=a(1113),i=a(1114),u=a(0),m=a.n(u),h=a(1441),d=a(804),f=a.n(d),v=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var c,r;return Object(l.a)(this,a),(r=t.call(this,e)).formatTime=function(e){var t="0".concat(e%60).slice(-2),a="".concat(Math.floor(e/60)),n="0".concat(a%60).slice(-2),l="0".concat(Math.floor(e/3600)).slice(-2);return"".concat(l," : ").concat(n," : ").concat(t)},r.handlestartinterval=function(){r.apicall.current=setInterval((function(){sessionStorage.setItem("typeofcall","videocall"),clearInterval(r.countRef.current),clearInterval(r.apicall.current),r.setState({setIsPaused:!1}),r.setState({setVideoCall:!1}),f()("Low Balance","Your Balance is getting low As per minimum charge of this Doctor",{buttons:{catch:{text:"Cancel ",value:"catch"}}}).then((function(e){switch(e){case"catch":break;case"Recharge":f()("move to recharge ")}}))}),6e4)},r.handleStart=function(){r.setState({setIsPaused:!0}),setInterval((function(){r.setState({setTimer:r.state.setTimer+1})}),1e3)},r.handlePause=function(){clearInterval(r.countRef.current),clearInterval(r.apicall.current),r.setState({setIsPaused:!1})},r.rtcProps={appId:"61a94c26a48147f4b61c2cd32be384f0",channel:"demo",token:null},r.callbacks=(c={},Object(n.a)(c,"user-joined",(function(e){e&&(r.handleStart(),f()("Doctor Joined"))})),Object(n.a)(c,"user-left",(function(e){e&&(f()("Doctor leave the Videocall"),sessionStorage.setItem("typeofcall","Videocall"),r.handlePause(),clearInterval(r.apicall.current))})),Object(n.a)(c,"EndCall",(function(){r.setState({videocall:!1}),r.handlePause(),clearInterval(r.apicall.current),f()("Doctor leave the Videocall"),setTimeout((function(){r.props.history.push("/")}),1e3)})),c),r.countRef=m.a.createRef(),r.apicall=m.a.createRef(),r.state={setTimer:0,Loader:!1,setIsPaused:!1,hours:0,minutes:0,seconds:0,stream:null,changeView:!1,videocall:!0,userid:"",astroid:"",mobile:"",userData:{},data:[],setVideoCall:!1,toggle:!0,userVideocalltoken:""},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userchannel_name");this.setState({userchannelname:"demo"}),this.setState({usertoken:e}),this.setState({changeView:!0}),this.setState({setVideoCall:!0})}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,this.state.Loader?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"d-flex justify-content-center"},m.a.createElement("h2",{className:"mt-5"},"Wait Till Patient Joins Room..."))):null,m.a.createElement(m.a.Fragment,null,!0===this.state.changeView?m.a.createElement(m.a.Fragment,null,m.a.createElement("section",null,!0===this.state.setVideoCall?m.a.createElement(m.a.Fragment,null,m.a.createElement(o.a,null,m.a.createElement(i.a,{className:"d-flex justify-content-center"},m.a.createElement("p",null,this.state.Loader?null:m.a.createElement(m.a.Fragment,null,this.formatTime(this.state.setTimer))))),this.state.videocall&&m.a.createElement("div",{style:{display:"flex",width:"80vw",height:"80vh"}},m.a.createElement(h.a,{rtcProps:this.rtcProps,callbacks:this.callbacks}))):m.a.createElement(m.a.Fragment,null," ",m.a.createElement("div",null,"Thank you for being our valued customer.",m.a.createElement("br",null)," We are so grateful and hope we met your expectations."," ")))):null))}}]),a}(m.a.Component);t.default=v}}]);
//# sourceMappingURL=390.8c4bdf19.chunk.js.map